gpasm-1.3.0 (Jun 19 2013)    IR.asm             2013-6-26  16:35:31          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 0.0.2 (Jun 26 2013) (Linux)
                      00004 ; This file was generated Wed Jun 26 16:35:31 2013
                      00005 ;--------------------------------------------------------
                      00006 ; MC30 port for the 14-bit core
                      00007 ;--------------------------------------------------------
                      00008 ;       .file   "IR.c"
                      00009         list    p=30p011
                      00010         radix dec
                      00011         include "mc30p011.inc"
                      00001                 LIST
                      00002 ;mc30p011.inc   Standard Header File, Version 1.00 by Sinomcu
                      00145                 LIST
                      00012 ;--------------------------------------------------------
                      00013 ; external declarations
                      00014 ;--------------------------------------------------------
                      00015         extern  _ColorSbr
                      00016         extern  _STATUSbits
                      00017         extern  _P0bits
                      00018         extern  _P1bits
                      00019         extern  _MCRbits
                      00020         extern  _KBIMbits
                      00021         extern  _PDCONbits
                      00022         extern  _ODCONbits
                      00023         extern  _PUCONbits
                      00024         extern  _INTECONbits
                      00025         extern  _INTFLAGbits
                      00026         extern  _DDR0bits
                      00027         extern  _DDR1bits
                      00028         extern  _TMCRbits
                      00029         extern  _T1CRbits
                      00030         extern  _KeyCnt
                      00031         extern  _T1s
                      00032         extern  _TRedCnt
                      00033         extern  _TRed
                      00034         extern  _TGreen
                      00035         extern  _TBlue
                      00036         extern  _TRedbak
                      00037         extern  _TGreenbak
                      00038         extern  _TBluebak
                      00039         extern  _IRTmr
                      00040         extern  _KeyCode
                      00041         extern  _Custom
                      00042         extern  _CustomRev
                      00043         extern  _IRCode1
                      00044         extern  _IRCodeRev1
                      00045         extern  _BitCnt
                      00046         extern  _LongIRCnt
                      00047         extern  _IRCnt
                      00048         extern  _Color
                      00049         extern  _Mode1Cnt
                      00050         extern  _delay
                      00051         extern  _Tmr
                      00052         extern  _TStop
                      00053         extern  _Step
                      00054         extern  _T40ms
                      00055         extern  _Dly100ms
                      00056         extern  _Mode2Cnt2
                      00057         extern  _Mode2Cnt3
                      00058         extern  _delay05ms
                      00059         extern  _Flag1
                      00060         extern  _Flag2
                      00061         extern  _INDF
                      00062         extern  _T0CNT
                      00063         extern  _PCL
                      00064         extern  _STATUS
                      00065         extern  _FSR
                      00066         extern  _P0
                      00067         extern  _P1
                      00068         extern  _MCR
                      00069         extern  _KBIM
                      00070         extern  _PCLATH
                      00071         extern  _PDCON
                      00072         extern  _ODCON
                      00073         extern  _PUCON
                      00074         extern  _INTECON
                      00075         extern  _INTFLAG
                      00076         extern  _T0CR
                      00077         extern  _DDR0
                      00078         extern  _DDR1
                      00079         extern  _TMCR
                      00080         extern  _T1CR
                      00081         extern  _T1CNT
                      00082         extern  _T1LOAD
                      00083         extern  _T1DATA
                      00084 
                      00085         extern PSAVE
                      00086         extern SSAVE
                      00087         extern WSAVE
                      00088         extern STK12
                      00089         extern STK11
                      00090         extern STK10
                      00091         extern STK09
                      00092         extern STK08
                      00093         extern STK07
                      00094         extern STK06
                      00095         extern STK05
                      00096         extern STK04
                      00097         extern STK03
                      00098         extern STK02
                      00099         extern STK01
                      00100         extern STK00
                      00101 ;--------------------------------------------------------
                      00102 ; global declarations
                      00103 ;--------------------------------------------------------
                      00104         global  _IRSbr4
                      00105         global  _IRSbr
                      00106         global  _IRKeyR
                      00107         global  _ColorKeySbr
                      00108         global  _IROffKeySbr
                      00109 
                      00110 ;--------------------------------------------------------
                      00111 ; global definitions
                      00112 ;--------------------------------------------------------
                      00113 ;--------------------------------------------------------
                      00114 ; absolute symbol definitions
                      00115 ;--------------------------------------------------------
                      00116 ;--------------------------------------------------------
                      00117 ; compiler-defined variables
                      00118 ;--------------------------------------------------------
                      00119 UDL_IR_0        udata
0000                  00120 r0x1018 res     1
0000                  00121 r0x1019 res     1
0001                  00122 r0x101A res     1
0001                  00123 r0x101B res     1
                      00124 ;--------------------------------------------------------
                      00125 ; initialized data
                      00126 ;--------------------------------------------------------
                      00127 ;--------------------------------------------------------
                      00128 ; overlayable items in internal ram 
                      00129 ;--------------------------------------------------------
                      00130 ;       udata_ovr
                      00131 ;--------------------------------------------------------
                      00132 ; code
                      00133 ;--------------------------------------------------------
                      00134 code_IR code
                      00135 ;***
                      00136 ;  pBlock Stats: dbName = C
                      00137 ;***
                      00138 ;entry:  _IRSbr4        ;Function start
                      00139 ; 2 exit points
                      00140 ;has an exit
                      00141 ;functions called:
                      00142 ;   _IRKeyR
                      00143 ;   _IROffKeySbr
                      00144 ;   _IRKeyR
                      00145 ;   _IRKeyR
                      00146 ;   _IRKeyR
                      00147 ;   _IRKeyR
                      00148 ;   _ColorKeySbr
                      00149 ;   _ColorKeySbr
                      00150 ;   _ColorKeySbr
                      00151 ;   _ColorKeySbr
                      00152 ;   _ColorKeySbr
                      00153 ;   _ColorKeySbr
                      00154 ;   _ColorKeySbr
                      00155 ;   _ColorKeySbr
                      00156 ;   _ColorKeySbr
                      00157 ;   _ColorKeySbr
                      00158 ;   _ColorKeySbr
                      00159 ;   _ColorKeySbr
                      00160 ;   _IRKeyR
                      00161 ;   _IROffKeySbr
                      00162 ;   _IRKeyR
                      00163 ;   _IRKeyR
                      00164 ;   _IRKeyR
                      00165 ;   _IRKeyR
                      00166 ;   _ColorKeySbr
                      00167 ;   _ColorKeySbr
                      00168 ;   _ColorKeySbr
                      00169 ;   _ColorKeySbr
                      00170 ;   _ColorKeySbr
                      00171 ;   _ColorKeySbr
                      00172 ;   _ColorKeySbr
                      00173 ;   _ColorKeySbr
                      00174 ;   _ColorKeySbr
                      00175 ;   _ColorKeySbr
                      00176 ;   _ColorKeySbr
                      00177 ;   _ColorKeySbr
                      00178 ;4 compiler assigned registers:
                      00179 ;   r0x1018
                      00180 ;   r0x1019
                      00181 ;   r0x101A
                      00182 ;   r0x101B
                      00183 ;; Starting pCode block
0000                  00184 _IRSbr4 ;Function start
                      00185 ; 2 exit points
                      00186 ;       .line   97; "IR.c"      FLead = 0;
0000   3F00           00187         BCLR    _Flag1,6
                      00188 ;       .line   98; "IR.c"      if (IRCodeRev1 != ~IRCode1) return;
0001   1600           00189         MOVAR   _IRCode1
0002   1580           00190         MOVRA   r0x1018
0003   1D80           00191         CLRR    r0x1019
0004   1C00           00192         COMAR   r0x1018
0005   1580           00193         MOVRA   r0x1018
0006   1C00           00194         COMAR   r0x1019
0007   1580           00195         MOVRA   r0x1019
0008   1600           00196         MOVAR   _IRCodeRev1
0009   1580           00197         MOVRA   r0x101A
000A   1D80           00198         CLRR    r0x101B
000B   1600           00199         MOVAR   r0x1018
000C   1000           00200         XORAR   r0x101A
000D   3103           00201         JBSET   STATUS,2
000E   2800           00202         GOTO    _00237_DS_
000F   1600           00203         MOVAR   r0x1019
0010   1000           00204         XORAR   r0x101B
0011   3103           00205         JBSET   STATUS,2
0012   2800           00206         GOTO    _00237_DS_
0013   2800           00207         GOTO    _00137_DS_
0014                  00208 _00237_DS_
0014   2800           00209         GOTO    _00185_DS_
0015                  00210 _00137_DS_
                      00211 ;       .line   99; "IR.c"      if (CustomRev != ~Custom) return;
0015   1600           00212         MOVAR   _Custom
0016   1580           00213         MOVRA   r0x1018
0017   1D80           00214         CLRR    r0x1019
0018   1C00           00215         COMAR   r0x1018
0019   1580           00216         MOVRA   r0x1018
001A   1C00           00217         COMAR   r0x1019
001B   1580           00218         MOVRA   r0x1019
001C   1600           00219         MOVAR   _CustomRev
001D   1580           00220         MOVRA   r0x101A
001E   1D80           00221         CLRR    r0x101B
001F   1600           00222         MOVAR   r0x1018
0020   1000           00223         XORAR   r0x101A
0021   3103           00224         JBSET   STATUS,2
0022   2800           00225         GOTO    _00238_DS_
0023   1600           00226         MOVAR   r0x1019
0024   1000           00227         XORAR   r0x101B
0025   3103           00228         JBSET   STATUS,2
0026   2800           00229         GOTO    _00238_DS_
0027   2800           00230         GOTO    _00139_DS_
0028                  00231 _00238_DS_
0028   2800           00232         GOTO    _00185_DS_
0029                  00233 _00139_DS_
                      00234 ;       .line   100; "IR.c"     if (Custom != CIDCode) return;
0029   0B00           00235         MOVAI   0x00
002A   1700           00236         ORAR    _Custom
002B   3503           00237         JBCLR   STATUS,2
002C   2800           00238         GOTO    _00141_DS_
002D   2800           00239         GOTO    _00185_DS_
002E                  00240 _00141_DS_
                      00241 ;       .line   102; "IR.c"     if (FIRAck) return;
002E   3280           00242         JBSET   _Flag1,5
002F   2800           00243         GOTO    _00143_DS_
0030   2800           00244         GOTO    _00185_DS_
0031                  00245 _00143_DS_
                      00246 ;       .line   103; "IR.c"     FIRAck = 1;
0031   3A80           00247         BSET    _Flag1,5
                      00248 ;       .line   105; "IR.c"     if (IRCodeRev1 == CIRON)
0032   1600           00249         MOVAR   _IRCodeRev1
0033   0845           00250         XORAI   0x45
0034   3103           00251         JBSET   STATUS,2
0035   2800           00252         GOTO    _00147_DS_
                      00253 ;       .line   107; "IR.c"     if (FOn) return;
0036   3000           00254         JBSET   _Flag1,0
0037   2800           00255         GOTO    _00145_DS_
0038   2800           00256         GOTO    _00185_DS_
0039                  00257 _00145_DS_
                      00258 ;       .line   108; "IR.c"     FOn = 1;
0039   3800           00259         BSET    _Flag1,0
                      00260 ;       .line   109; "IR.c"     FTmr = 0;
003A   3F80           00261         BCLR    _Flag1,7
                      00262 ;       .line   110; "IR.c"     IRKeyR();
003B   2000           00263         CALL    _IRKeyR
003C                  00264 _00147_DS_
                      00265 ;       .line   112; "IR.c"     if (!FOn) return;
003C   3400           00266         JBCLR   _Flag1,0
003D   2800           00267         GOTO    _00149_DS_
003E   2800           00268         GOTO    _00185_DS_
003F                  00269 _00149_DS_
                      00270 ;       .line   114; "IR.c"     if (IRCodeRev1 == CIROFF)
003F   1600           00271         MOVAR   _IRCodeRev1
0040   0846           00272         XORAI   0x46
0041   3103           00273         JBSET   STATUS,2
0042   2800           00274         GOTO    _00151_DS_
                      00275 ;       .line   116; "IR.c"     IROffKeySbr();
0043   2000           00276         CALL    _IROffKeySbr
                      00277 ;       .line   117; "IR.c"     IRKeyR();
0044   2000           00278         CALL    _IRKeyR
                      00279 ;       .line   118; "IR.c"     return;
0045   2800           00280         GOTO    _00185_DS_
0046                  00281 _00151_DS_
                      00282 ;       .line   120; "IR.c"     if (IRCodeRev1 == CIRMODE)
0046   1600           00283         MOVAR   _IRCodeRev1
0047   0847           00284         XORAI   0x47
0048   3103           00285         JBSET   STATUS,2
0049   2800           00286         GOTO    _00153_DS_
                      00287 ;       .line   122; "IR.c"     FCandle = !FCandle;
004A   1D80           00288         CLRR    r0x1018
004B   3680           00289         JBCLR   _Flag2,5
004C   1980           00290         INCR    r0x1018
004D   1600           00291         MOVAR   r0x1018
004E   0B00           00292         MOVAI   0x00
004F   3503           00293         JBCLR   STATUS,2
0050   0B01           00294         MOVAI   0x01
0051   1580           00295         MOVRA   r0x1018
0052   1580           00296         MOVRA   r0x1019
                      00297 ;;100   MOVAR   r0x1019
0053   1300           00298         RRAR    r0x1018
0054   3003           00299         JBSET   STATUS,0
0055   3E80           00300         BCLR    _Flag2,5
0056   3403           00301         JBCLR   STATUS,0
0057   3A80           00302         BSET    _Flag2,5
                      00303 ;       .line   123; "IR.c"     TRedbak = TRed;
0058   1600           00304         MOVAR   _TRed
0059   1580           00305         MOVRA   _TRedbak
                      00306 ;       .line   124; "IR.c"     TGreenbak = TGreen;
005A   1600           00307         MOVAR   _TGreen
005B   1580           00308         MOVRA   _TGreenbak
                      00309 ;       .line   125; "IR.c"     TBluebak = TBlue;
005C   1600           00310         MOVAR   _TBlue
005D   1580           00311         MOVRA   _TBluebak
                      00312 ;       .line   126; "IR.c"     Mode2Cnt3 = 10;
005E   0B0A           00313         MOVAI   0x0a
005F   1580           00314         MOVRA   _Mode2Cnt3
                      00315 ;       .line   127; "IR.c"     FDirection = 0;
0060   3D00           00316         BCLR    _Flag1,2
                      00317 ;       .line   128; "IR.c"     Mode2Cnt2 = 0;
0061   1D80           00318         CLRR    _Mode2Cnt2
                      00319 ;       .line   129; "IR.c"     T40ms = 0xff;
0062   0BFF           00320         MOVAI   0xff
0063   1580           00321         MOVRA   _T40ms
                      00322 ;       .line   130; "IR.c"     IRKeyR();
0064   2000           00323         CALL    _IRKeyR
                      00324 ;       .line   131; "IR.c"     return;
0065   2800           00325         GOTO    _00185_DS_
0066                  00326 _00153_DS_
                      00327 ;       .line   133; "IR.c"     if (IRCodeRev1 == CIR4H)
0066   1600           00328         MOVAR   _IRCodeRev1
0067   0844           00329         XORAI   0x44
0068   3103           00330         JBSET   STATUS,2
0069   2800           00331         GOTO    _00156_DS_
                      00332 ;       .line   135; "IR.c"     Tmr = 0x3840;
006A   0B40           00333         MOVAI   0x40
006B   1580           00334         MOVRA   _Tmr
006C   0B38           00335         MOVAI   0x38
006D   1580           00336         MOVRA   (_Tmr + 1)
006E                  00337 _00154_DS_
                      00338 ;       .line   137; "IR.c"     T1s = 250;
006E   0BFA           00339         MOVAI   0xfa
006F   1580           00340         MOVRA   _T1s
                      00341 ;       .line   138; "IR.c"     FTmr = 1;
0070   3B80           00342         BSET    _Flag1,7
                      00343 ;       .line   139; "IR.c"     IRKeyR();
0071   2000           00344         CALL    _IRKeyR
                      00345 ;       .line   140; "IR.c"     return;
0072   2800           00346         GOTO    _00185_DS_
0073                  00347 _00156_DS_
                      00348 ;       .line   142; "IR.c"     if (IRCodeRev1 == CIR8H)
0073   1600           00349         MOVAR   _IRCodeRev1
0074   0840           00350         XORAI   0x40
0075   3103           00351         JBSET   STATUS,2
0076   2800           00352         GOTO    _00158_DS_
                      00353 ;       .line   144; "IR.c"     Tmr = 0x7080;
0077   0B80           00354         MOVAI   0x80
0078   1580           00355         MOVRA   _Tmr
0079   0B70           00356         MOVAI   0x70
007A   1580           00357         MOVRA   (_Tmr + 1)
                      00358 ;       .line   145; "IR.c"     goto    IR4HKeySbr1;
007B   2800           00359         GOTO    _00154_DS_
007C                  00360 _00158_DS_
                      00361 ;       .line   147; "IR.c"     if (IRCodeRev1 == CIRMCOLR)
007C   1600           00362         MOVAR   _IRCodeRev1
007D   0843           00363         XORAI   0x43
007E   3103           00364         JBSET   STATUS,2
007F   2800           00365         GOTO    _00160_DS_
                      00366 ;       .line   149; "IR.c"     FMultiColor = !FMultiColor;
0080   1D80           00367         CLRR    r0x1018
0081   3600           00368         JBCLR   _Flag2,4
0082   1980           00369         INCR    r0x1018
0083   1600           00370         MOVAR   r0x1018
0084   0B00           00371         MOVAI   0x00
0085   3503           00372         JBCLR   STATUS,2
0086   0B01           00373         MOVAI   0x01
0087   1580           00374         MOVRA   r0x1018
0088   1580           00375         MOVRA   r0x1019
                      00376 ;;99    MOVAR   r0x1019
0089   1300           00377         RRAR    r0x1018
008A   3003           00378         JBSET   STATUS,0
008B   3E00           00379         BCLR    _Flag2,4
008C   3403           00380         JBCLR   STATUS,0
008D   3A00           00381         BSET    _Flag2,4
                      00382 ;       .line   150; "IR.c"     IRKeyR();
008E   2000           00383         CALL    _IRKeyR
                      00384 ;       .line   151; "IR.c"     return;
008F   2800           00385         GOTO    _00185_DS_
0090                  00386 _00160_DS_
                      00387 ;       .line   153; "IR.c"     if (IRCodeRev1 == CIRCOLR1) {i = 0;ColorKeySbr(i);}
0090   1600           00388         MOVAR   _IRCodeRev1
0091   0816           00389         XORAI   0x16
0092   3103           00390         JBSET   STATUS,2
0093   2800           00391         GOTO    _00162_DS_
0094   0B00           00392         MOVAI   0x00
0095   2000           00393         CALL    _ColorKeySbr
0096                  00394 _00162_DS_
                      00395 ;       .line   154; "IR.c"     if (IRCodeRev1 == CIRCOLR2) {i = 1;ColorKeySbr(i);}
0096   1600           00396         MOVAR   _IRCodeRev1
0097   0819           00397         XORAI   0x19
0098   3103           00398         JBSET   STATUS,2
0099   2800           00399         GOTO    _00164_DS_
009A   0B01           00400         MOVAI   0x01
009B   2000           00401         CALL    _ColorKeySbr
009C                  00402 _00164_DS_
                      00403 ;       .line   155; "IR.c"     if (IRCodeRev1 == CIRCOLR3) {i = 2;ColorKeySbr(i);}
009C   1600           00404         MOVAR   _IRCodeRev1
009D   080D           00405         XORAI   0x0d
009E   3103           00406         JBSET   STATUS,2
009F   2800           00407         GOTO    _00166_DS_
00A0   0B02           00408         MOVAI   0x02
00A1   2000           00409         CALL    _ColorKeySbr
00A2                  00410 _00166_DS_
                      00411 ;       .line   156; "IR.c"     if (IRCodeRev1 == CIRCOLR4) {i = 3;ColorKeySbr(i);}
00A2   1600           00412         MOVAR   _IRCodeRev1
00A3   080C           00413         XORAI   0x0c
00A4   3103           00414         JBSET   STATUS,2
00A5   2800           00415         GOTO    _00168_DS_
00A6   0B03           00416         MOVAI   0x03
00A7   2000           00417         CALL    _ColorKeySbr
00A8                  00418 _00168_DS_
                      00419 ;       .line   157; "IR.c"     if (IRCodeRev1 == CIRCOLR5) {i = 4;ColorKeySbr(i);}
00A8   1600           00420         MOVAR   _IRCodeRev1
00A9   0818           00421         XORAI   0x18
00AA   3103           00422         JBSET   STATUS,2
00AB   2800           00423         GOTO    _00170_DS_
00AC   0B04           00424         MOVAI   0x04
00AD   2000           00425         CALL    _ColorKeySbr
00AE                  00426 _00170_DS_
                      00427 ;       .line   158; "IR.c"     if (IRCodeRev1 == CIRCOLR6) {i = 5;ColorKeySbr(i);}
00AE   1600           00428         MOVAR   _IRCodeRev1
00AF   085E           00429         XORAI   0x5e
00B0   3103           00430         JBSET   STATUS,2
00B1   2800           00431         GOTO    _00172_DS_
00B2   0B05           00432         MOVAI   0x05
00B3   2000           00433         CALL    _ColorKeySbr
00B4                  00434 _00172_DS_
                      00435 ;       .line   159; "IR.c"     if (IRCodeRev1 == CIRCOLR7) {i = 6;ColorKeySbr(i);}
00B4   1600           00436         MOVAR   _IRCodeRev1
00B5   0808           00437         XORAI   0x08
00B6   3103           00438         JBSET   STATUS,2
00B7   2800           00439         GOTO    _00174_DS_
00B8   0B06           00440         MOVAI   0x06
00B9   2000           00441         CALL    _ColorKeySbr
00BA                  00442 _00174_DS_
                      00443 ;       .line   160; "IR.c"     if (IRCodeRev1 == CIRCOLR8) {i = 7;ColorKeySbr(i);}
00BA   1600           00444         MOVAR   _IRCodeRev1
00BB   081C           00445         XORAI   0x1c
00BC   3103           00446         JBSET   STATUS,2
00BD   2800           00447         GOTO    _00176_DS_
00BE   0B07           00448         MOVAI   0x07
00BF   2000           00449         CALL    _ColorKeySbr
00C0                  00450 _00176_DS_
                      00451 ;       .line   161; "IR.c"     if (IRCodeRev1 == CIRCOLR9) {i = 8;ColorKeySbr(i);}
00C0   1600           00452         MOVAR   _IRCodeRev1
00C1   085A           00453         XORAI   0x5a
00C2   3103           00454         JBSET   STATUS,2
00C3   2800           00455         GOTO    _00178_DS_
00C4   0B08           00456         MOVAI   0x08
00C5   2000           00457         CALL    _ColorKeySbr
00C6                  00458 _00178_DS_
                      00459 ;       .line   162; "IR.c"     if (IRCodeRev1 == CIRCOLRA) {i = 9;ColorKeySbr(i);};
00C6   1600           00460         MOVAR   _IRCodeRev1
00C7   0842           00461         XORAI   0x42
00C8   3103           00462         JBSET   STATUS,2
00C9   2800           00463         GOTO    _00180_DS_
00CA   0B09           00464         MOVAI   0x09
00CB   2000           00465         CALL    _ColorKeySbr
00CC                  00466 _00180_DS_
                      00467 ;       .line   163; "IR.c"     if (IRCodeRev1 == CIRCOLRB) {i = 10;ColorKeySbr(i);}
00CC   1600           00468         MOVAR   _IRCodeRev1
00CD   0852           00469         XORAI   0x52
00CE   3103           00470         JBSET   STATUS,2
00CF   2800           00471         GOTO    _00182_DS_
00D0   0B0A           00472         MOVAI   0x0a
00D1   2000           00473         CALL    _ColorKeySbr
00D2                  00474 _00182_DS_
                      00475 ;       .line   164; "IR.c"     if (IRCodeRev1 == CIRCOLRC) {i = 11;ColorKeySbr(i);}
00D2   1600           00476         MOVAR   _IRCodeRev1
00D3   084A           00477         XORAI   0x4a
00D4   3103           00478         JBSET   STATUS,2
00D5   2800           00479         GOTO    _00185_DS_
00D6   0B0B           00480         MOVAI   0x0b
00D7   2000           00481         CALL    _ColorKeySbr
00D8                  00482 _00185_DS_
00D8   000C           00483         RETURN  
                      00484 ; exit point of _IRSbr4
                      00485 
                      00486 ;***
                      00487 ;  pBlock Stats: dbName = C
                      00488 ;***
                      00489 ;entry:  _IROffKeySbr   ;Function start
                      00490 ; 2 exit points
                      00491 ;has an exit
                      00492 ;; Starting pCode block
00D9                  00493 _IROffKeySbr    ;Function start
                      00494 ; 2 exit points
                      00495 ;       .line   88; "IR.c"      FOn = 0;
00D9   3C00           00496         BCLR    _Flag1,0
                      00497 ;       .line   89; "IR.c"      FStop = 1;
00DA   3880           00498         BSET    _Flag2,1
                      00499 ;       .line   90; "IR.c"      TStop = 3;
00DB   0B03           00500         MOVAI   0x03
00DC   1580           00501         MOVRA   _TStop
00DD   000C           00502         RETURN  
                      00503 ; exit point of _IROffKeySbr
                      00504 
                      00505 ;***
                      00506 ;  pBlock Stats: dbName = C
                      00507 ;***
                      00508 ;entry:  _ColorKeySbr   ;Function start
                      00509 ; 2 exit points
                      00510 ;has an exit
                      00511 ;functions called:
                      00512 ;   _ColorSbr
                      00513 ;   _IRKeyR
                      00514 ;   _ColorSbr
                      00515 ;   _IRKeyR
                      00516 ;; Starting pCode block
00DE                  00517 _ColorKeySbr    ;Function start
                      00518 ; 2 exit points
                      00519 ;       .line   78; "IR.c"      void ColorKeySbr(uchar i)
00DE   1580           00520         MOVRA   _Color
                      00521 ;       .line   81; "IR.c"      FMultiColor = 0;
00DF   3E00           00522         BCLR    _Flag2,4
                      00523 ;       .line   82; "IR.c"      ColorSbr();
00E0   2000           00524         CALL    _ColorSbr
                      00525 ;       .line   83; "IR.c"      IRKeyR();
00E1   2000           00526         CALL    _IRKeyR
                      00527 ;       .line   84; "IR.c"      return;
00E2   000C           00528         RETURN  
                      00529 ; exit point of _ColorKeySbr
                      00530 
                      00531 ;***
                      00532 ;  pBlock Stats: dbName = C
                      00533 ;***
                      00534 ;entry:  _IRKeyR        ;Function start
                      00535 ; 2 exit points
                      00536 ;has an exit
                      00537 ;; Starting pCode block
00E3                  00538 _IRKeyR ;Function start
                      00539 ; 2 exit points
                      00540 ;       .line   76; "IR.c"      Dly100ms = 25;
00E3   0B19           00541         MOVAI   0x19
00E4   1580           00542         MOVRA   _Dly100ms
00E5   000C           00543         RETURN  
                      00544 ; exit point of _IRKeyR
                      00545 
                      00546 ;***
                      00547 ;  pBlock Stats: dbName = C
                      00548 ;***
                      00549 ;entry:  _IRSbr ;Function start
                      00550 ; 2 exit points
                      00551 ;has an exit
                      00552 ;functions called:
                      00553 ;   _IRSbr4
                      00554 ;   _IRSbr4
                      00555 ;   _IRSbr4
                      00556 ;   _IRSbr4
                      00557 ;; Starting pCode block
00E6                  00558 _IRSbr  ;Function start
                      00559 ; 2 exit points
                      00560 ;       .line   37; "IR.c"      if (!FLead)                                                                     //;未收到头码
00E6   3700           00561         JBCLR   _Flag1,6
00E7   2800           00562         GOTO    _00110_DS_
                      00563 ;;unsigned compare: left < lit(0x41=65), size=1
                      00564 ;       .line   39; "IR.c"      if (IRTmr < CHEAD-5) return;
00E8   0B41           00565         MOVAI   0x41
00E9   1200           00566         RSUBAR  _IRTmr
00EA   3403           00567         JBCLR   STATUS,0
00EB   2800           00568         GOTO    _00106_DS_
                      00569 ;;genSkipc:3244: created from rifx:0xbfe81684
00EC   2800           00570         GOTO    _00119_DS_
                      00571 ;;swapping arguments (AOP_TYPEs 1/3)
                      00572 ;;unsigned compare: left >= lit(0x4C=76), size=1
00ED                  00573 _00106_DS_
                      00574 ;       .line   40; "IR.c"      if (IRTmr > CHEAD+5) return;
00ED   0B4C           00575         MOVAI   0x4c
00EE   1200           00576         RSUBAR  _IRTmr
00EF   3003           00577         JBSET   STATUS,0
00F0   2800           00578         GOTO    _00108_DS_
                      00579 ;;genSkipc:3244: created from rifx:0xbfe81684
00F1   2800           00580         GOTO    _00119_DS_
00F2                  00581 _00108_DS_
                      00582 ;       .line   41; "IR.c"      FLead = 1;                                              //;当前接收到的是头码
00F2   3B00           00583         BSET    _Flag1,6
                      00584 ;       .line   42; "IR.c"      Custom = 0;
00F3   1D80           00585         CLRR    _Custom
                      00586 ;       .line   43; "IR.c"      CustomRev = 0;
00F4   1D80           00587         CLRR    _CustomRev
                      00588 ;       .line   44; "IR.c"      IRCode1 = 0;
00F5   1D80           00589         CLRR    _IRCode1
                      00590 ;       .line   45; "IR.c"      IRCodeRev1 = 0;
00F6   1D80           00591         CLRR    _IRCodeRev1
                      00592 ;       .line   46; "IR.c"      FIRAck = 0;
00F7   3E80           00593         BCLR    _Flag1,5
                      00594 ;       .line   47; "IR.c"      BitCnt = 32;
00F8   0B20           00595         MOVAI   0x20
00F9   1580           00596         MOVRA   _BitCnt
                      00597 ;       .line   48; "IR.c"      return;
00FA   2800           00598         GOTO    _00119_DS_
                      00599 ;;swapping arguments (AOP_TYPEs 1/3)
                      00600 ;;unsigned compare: left >= lit(0x29=41), size=1
00FB                  00601 _00110_DS_
                      00602 ;       .line   51; "IR.c"      if (IRTmr > CCodeR+5) {FLead = 0; return;}
00FB   0B29           00603         MOVAI   0x29
00FC   1200           00604         RSUBAR  _IRTmr
00FD   3003           00605         JBSET   STATUS,0
00FE   2800           00606         GOTO    _00112_DS_
                      00607 ;;genSkipc:3244: created from rifx:0xbfe81684
00FF   3F00           00608         BCLR    _Flag1,6
0100   2800           00609         GOTO    _00119_DS_
                      00610 ;;unsigned compare: left < lit(0x1E=30), size=1
0101                  00611 _00112_DS_
                      00612 ;       .line   52; "IR.c"      if (IRTmr >= CCodeR-5) 
0101   0B1E           00613         MOVAI   0x1e
0102   1200           00614         RSUBAR  _IRTmr
0103   3003           00615         JBSET   STATUS,0
0104   2800           00616         GOTO    _00116_DS_
                      00617 ;;genSkipc:3244: created from rifx:0xbfe81684
                      00618 ;       .line   55; "IR.c"      if (++LongIRCnt >= 6)
0105   1980           00619         INCR    _LongIRCnt
                      00620 ;;unsigned compare: left < lit(0x6=6), size=1
0106   0B06           00621         MOVAI   0x06
0107   1200           00622         RSUBAR  _LongIRCnt
0108   3003           00623         JBSET   STATUS,0
0109   2800           00624         GOTO    _00114_DS_
                      00625 ;;genSkipc:3244: created from rifx:0xbfe81684
                      00626 ;       .line   57; "IR.c"      FLongRKey = 1;
010A   3800           00627         BSET    _Flag2,0
                      00628 ;       .line   58; "IR.c"      IRSbr4();
010B   2000           00629         CALL    _IRSbr4
010C                  00630 _00114_DS_
                      00631 ;       .line   60; "IR.c"      return;
010C   2800           00632         GOTO    _00119_DS_
010D                  00633 _00116_DS_
010D   0B11           00634         movai 8 +(26 -8)/2
010E   1200           00635         rsubar _IRTmr
010F   1380           00636         rrr _IRCode1
0110   1380           00637         rrr _IRCodeRev1
0111   1380           00638         rrr _Custom
0112   1380           00639         rrr _CustomRev
                      00640         
                      00641 ;       .line   72; "IR.c"      if (--BitCnt == 0) IRSbr4();
0113   1B80           00642         DECR    _BitCnt
0114   0B00           00643         MOVAI   0x00
0115   1700           00644         ORAR    _BitCnt
0116   3103           00645         JBSET   STATUS,2
0117   2800           00646         GOTO    _00119_DS_
0118   2000           00647         CALL    _IRSbr4
0119                  00648 _00119_DS_
0119   000C           00649         RETURN  
                      00650 ; exit point of _IRSbr
                      00651 
                      00652 
                      00653 ;       code size estimation:
                      00654 ;         276+    0 =   276 instructions (  552 byte)
                      00655 
                      00656         end
gpasm-1.3.0 (Jun 19 2013)    IR.asm             2013-6-26  16:35:31          PAGE  2


SYMBOL TABLE
  LABEL                             VALUE

BUZOUT                            00000005
C                                 00000000
DC                                00000001
DDR0                              00000045
DDR1                              00000046
EIS                               00000006
FSR                               00000004
GIE                               00000007
INDF                              00000000
INT0IE                            00000002
INT0IF                            00000002
INTECON                           0000000E
INTFLAG                           0000000F
KBIE                              00000001
KBIF                              00000001
KBIM                              00000009
MCR                               00000008
ODCON                             0000000C
P0                                00000005
P1                                00000006
PCL                               00000002
PCLATH                            0000000A
PD                                00000003
PDCON                             0000000B
PSAVE                             00000000
PUCON                             0000000D
PWMOUT                            00000006
RST                               00000007
SSAVE                             00000000
STATUS                            00000003
STK00                             00000000
STK01                             00000000
STK02                             00000000
STK03                             00000000
STK04                             00000000
STK05                             00000000
STK06                             00000000
STK07                             00000000
STK08                             00000000
STK09                             00000000
STK10                             00000000
STK11                             00000000
STK12                             00000000
T0CNT                             00000001
T0CR                              00000041
T0IE                              00000000
T0IF                              00000000
T1CNT                             0000004D
T1CR                              0000004C
T1DATA                            0000004F
T1IF                              00000000
T1LOAD                            0000004E
T1PR0                             00000000
T1PR1                             00000001
T1PR2                             00000002
T1PTS0                            00000003
T1PTS1                            00000004
T1lE                              00000001
TBS                               00000007
TMCR                              0000004B
TMR1EN                            00000007
TO                                00000004
WDTEN                             00000007
WSAVE                             00000000
Z                                 00000002
_00106_DS_                        000000ED
_00108_DS_                        000000F2
_00110_DS_                        000000FB
_00112_DS_                        00000101
_00114_DS_                        0000010C
_00116_DS_                        0000010D
_00119_DS_                        00000119
_00137_DS_                        00000015
_00139_DS_                        00000029
_00141_DS_                        0000002E
_00143_DS_                        00000031
_00145_DS_                        00000039
_00147_DS_                        0000003C
_00149_DS_                        0000003F
_00151_DS_                        00000046
_00153_DS_                        00000066
_00154_DS_                        0000006E
_00156_DS_                        00000073
_00158_DS_                        0000007C
_00160_DS_                        00000090
_00162_DS_                        00000096
_00164_DS_                        0000009C
_00166_DS_                        000000A2
_00168_DS_                        000000A8
_00170_DS_                        000000AE
_00172_DS_                        000000B4
_00174_DS_                        000000BA
_00176_DS_                        000000C0
_00178_DS_                        000000C6
_00180_DS_                        000000CC
_00182_DS_                        000000D2
_00185_DS_                        000000D8
_00237_DS_                        00000014
_00238_DS_                        00000028
_BitCnt                           00000000
_CONFIG0                          00002000
_CONFIG1                          00002001
_CP_ALL                           00001FFF
_Color                            00000000
_ColorKeySbr                      000000DE
_ColorSbr                         00000000
_Custom                           00000000
_CustomRev                        00000000
_DDR0                             00000000
_DDR0bits                         00000000
_DDR1                             00000000
_DDR1bits                         00000000
_Dly100ms                         00000000
_FCPU_2T                          00003F7F
_FCPU_4T                          00003FFF
_FSR                              00000000
_Flag1                            00000000
_Flag2                            00000000
_INDF                             00000000
_INTECON                          00000000
_INTECONbits                      00000000
_INTFLAG                          00000000
_INTFLAGbits                      00000000
_IRC_1M                           00003FCF
_IRC_2M                           00003FDF
_IRC_444K                         00003FAF
_IRC_4M                           00003FEF
_IRC_8M                           00003FFF
_IRCnt                            00000000
_IRCode1                          00000000
_IRCodeRev1                       00000000
_IRKeyR                           000000E3
_IROffKeySbr                      000000D9
_IRSbr                            000000E6
_IRSbr4                           00000000
_IRTmr                            00000000
_KBIM                             00000000
_KBIMbits                         00000000
_KeyCnt                           00000000
_KeyCode                          00000000
_LongIRCnt                        00000000
_MCLR_OFF                         00003FF7
_MCLR_ON                          00003FFF
_MCR                              00000000
_MCRbits                          00000000
_Mode1Cnt                         00000000
_Mode2Cnt2                        00000000
_Mode2Cnt3                        00000000
_ODCON                            00000000
_ODCONbits                        00000000
_OSC_HXT                          00002FFF
_OSC_IRC                          000037FF
_OSC_IRC_RTC                      00003FFF
_OSC_LXT                          000027FF
_P0                               00000000
_P0bits                           00000000
_P1                               00000000
_P1bits                           00000000
_PCL                              00000000
_PCLATH                           00000000
_PDCON                            00000000
_PDCONbits                        00000000
_PUCON                            00000000
_PUCONbits                        00000000
_PWRT_OFF                         00003BFF
_PWRT_ON                          00003FFF
_RD_FROM_PIN                      00003FFF
_RD_FROM_REG                      00003EFF
_SMT_OFF                          00003FFF
_SMT_ON                           00003DFF
_STATUS                           00000000
_STATUSbits                       00000000
_Step                             00000000
_T0CNT                            00000000
_T0CR                             00000000
_T1CNT                            00000000
_T1CR                             00000000
_T1CRbits                         00000000
_T1DATA                           00000000
_T1LOAD                           00000000
_T1s                              00000000
_T40ms                            00000000
_TBlue                            00000000
_TBluebak                         00000000
_TGreen                           00000000
_TGreenbak                        00000000
_TMCR                             00000000
_TMCRbits                         00000000
_TRed                             00000000
_TRedCnt                          00000000
_TRedbak                          00000000
_TStop                            00000000
_TWRT_18MS                        00003FFF
_TWRT_288MS                       00003DFF
_TWRT_4P5MS                       00003EFF
_TWRT_72MS                        00003CFF
_Tmr                              00000000
_VBOR_15                          00003F78
_VBOR_18                          00003F79
_VBOR_20                          00003FFA
_VBOR_22                          00003FFB
_VBOR_24                          00003FFC
_VBOR_26                          00003FFD
_VBOR_30                          00003FFE
_VBOR_36                          00003FFF
_WDT_OFF                          000037FF
_WDT_ON                           00003FFF
__30P011                          00000001
_delay                            00000000
_delay05ms                        00000000
r0x1018                           00000000
r0x1019                           00000001
r0x101A                           00000002
r0x101B                           00000003

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

