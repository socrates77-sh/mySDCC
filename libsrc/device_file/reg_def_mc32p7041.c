#include "reg_def.h"

#define SET_BITS(x,n,of) (~((~(((-1) << (n)) | (x))) << (of))) & 0xFFFF

const struct reg_def all_reg[] = {
	{ "HIBYTE",   0x0082, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "FSR",     0x0083, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "FSR0",    0x0083, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "FSR1",    0x0084, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STATUS",     0x0086, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "PFLAG",	 0x0086, 1, 
		{
			{"Z", 1}, {"DC", 1},  {"C", 1}, {"", 0}, 
			{"LVD24", 1}, {"LVD36", 1},  {"NPD", 1}, {"NTO", 1}
		}
	},
	{ "ZEROTR",    0x008e, 1, 
		{
			{"ZEROTR0", 1}, {"ZEROTR1", 1},  {"ZEROTR2", 1}, {"ZEROTR3", 1}, 
			{"ZEROTR4", 1}, {"", 0},  {"ZOTEN0", 1}, {"ZOTEN1", 1}
		}
	},
	{ "OSCCAL",    0x008f, 1, 
		{
			{"OSCCAL0", 1}, {"OSCCAL1", 1},  {"OSCCAL2", 1}, {"OSCCAL3", 1}, 
			{"OSCCAL4", 1}, {"OSCCAL5", 1},  {"OSCCAL6", 1}, {"OSCCAL7", 1}
		}
	},
	{ "WKCR0",    0x00a0, 1, 
		{
			{"P00WK", 1}, {"P01WK", 1},  {"P02WK", 1}, {"P03WK", 1}, 
			{"P04WK", 1}, {"P05WK", 1},  {"P06WK", 1}, {"P07WK", 1}
		}
	},
	{ "WKCR5",    0x00a5, 1, 
		{
			{"P50WK", 1}, {"P51WK", 1},  {"P52WK", 1}, {"P53WK", 1}, 
			{"P54WK", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "ADIOS0",    0x00ad, 1, 
		{
			{"AN5EN", 1}, {"", 0},  {"", 0}, {"", 0}, 
			{"", 0}, {"", 0},  {"", 0}, {"AN9EN", 1}
		}
	},
	{ "ADIOS1",    0x00ae, 1, 
		{
			{"", 0}, {"", 0},  {"AN8EN", 1}, {"AN7EN", 1}, 
			{"AN6EN", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "ADIOS2",    0x00af, 1, 
		{
			{"AN0EN", 1}, {"AN1EN", 1},  {"AN2EN", 1}, {"AN3EN", 1}, 
			{"AN4EN", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "ADCR0",    0x00b1, 1, 
		{
			{"ADCHS0", 1}, {"ADCHS1", 1},  {"ADCHS2", 1}, {"ADCHS3", 1}, 
			{"GCHS", 1}, {"ADEOC", 1},  {"ADSTR", 1}, {"ADEN", 1}
		}
	},
	{ "ADCR1",    0x00b2, 1, 
		{
			{"ADSPS0", 1}, {"ADSPS1", 1},  {"ADSPS2", 1}, {"ADSPS3", 1}, 
			{"ADCKS0", 1}, {"ADCKS1", 1},  {"ADCKS2", 1}, {"ADRSEL", 1}
		}
	},
	{ "ADRH",    0x00b3, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "ADRL",    0x00b4, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "ADCR2",    0x00b5, 1, 
		{
			{"VRS0", 1}, {"VRS1", 1},  {"PCHEN", 1}, {"", 0}, 
			{"", 0}, {"", 0},  {"", 0}, {"EVRS", 1}
		}
	},
	{ "OEP0",    0x00b8, 1, 
		{
			{"P00OE", 1}, {"P01OE", 1},  {"P02OE", 1}, {"P03OE", 1}, 
			{"P04OE", 1}, {"P05OE", 1},  {"P06OE", 1}, {"P07OE", 1}
		}
	},
	{ "EINTCR",    0x00bf, 1, 
		{
			{"", 0}, {"", 0},  {"", 0}, {"MINT00", 1}, 
			{"MINT01", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "OEP4",    0x00c4, 1, 
		{
			{"P40OE", 1}, {"P41OE", 1},  {"P42OE", 1}, {"P43OE", 1}, 
			{"P44OE", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "OEP5",    0x00c5, 1, 
		{
			{"P50OE", 1}, {"P51OE", 1},  {"P52OE", 1}, {"P53OE", 1}, 
			{"P54OE", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "INTF",    0x00c8, 1, 
		{
			{"INT0IF", 1}, {"", 0},  {"", 0}, {"PWMIF", 1}, 
			{"T0IF", 1}, {"T1IF", 1},  {"", 0}, {"ADIF", 1}
		}
	},
	{ "INTE",    0x00c9, 1, 
		{
			{"INT0IE", 1}, {"", 0},  {"", 0}, {"PWMIE", 1}, 
			{"T0IE", 1}, {"T1IE", 1},  {"", 0}, {"ADIE", 1}
		}
	},
	{ "OSCM",  0x00ca, 1, { {"", 0}, {"HFDE", 1},  {"CLKS", 1}, {"CPUM0", 1}, {"CPUM1", 1}, {"", 0},  {"", 0}, {"", 0} } },	
	{ "WDTCR",    0x00cc, 1, 
		{
			{"WDTCR0", 1}, {"WDTCR1", 1},  {"WDTCR2", 1}, {"WDTCR3", 1}, 
			{"WDTCR4", -1}, {"WDTCR5", 1},  {"WDTCR6", 1}, {"WDTCR7", 1}
		}
	},
	{ "T1LDR",    0x00cd, 1, 
		{
			{"T1LDR0", 1}, {"T1LDR1", 1},  {"T1LDR2", 1}, {"T1LDR3", 1}, 
			{"T1LDR4", 1}, {"T1LDR5", 1},  {"T1LDR6", 1}, {"T1LDR7", 1}
		}
	},	
	{ "PCL",    0x00ce, 1, 
		{
			{"PC0", 1}, {"PC1", 1},  {"PC2", 1}, {"PC3", 1}, 
			{"PC4", 1}, {"PC5", 1},  {"PC6", 1}, {"PC7", 1}
		}
	},
	{ "PCH",    0x00cf, 1, 
		{
			{"PC8", 1}, {"PC9", 1},  {"PC10", 1}, {"", 0}, 
			{"", 0}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "IOP0",    0x00d0, 1, 
		{
			{"P00D", 1}, {"P01D", 1},  {"P02D", 1}, {"P03D", 1}, 
			{"P04D", 1}, {"P05D", 1},  {"P06D", 1}, {"P07D", 1}
		}
	},
	{ "IOP4",    0x00d4, 1, 
		{
			{"P40D", 1}, {"P41D", 1},  {"P42D", 1}, {"P43D", 1}, 
			{"", 0}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "IOP5",    0x00d5, 1, 
		{
			{"P50D", 1}, {"P51D", 1},  {"P52D", 1}, {"P53D", 1}, 
			{"", 0}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "T0CR",    0x00d8, 1, 
		{
			{"", 0}, {"", 0},  {"T1CKS1", 1}, {"T1CKS2", 1}, 
			{"T0PRS0", 1}, {"T0PRS1", 1},  {"T0PRS2", -1}, {"T0EN", 1}
		}
	},
	{ "T0CNT",   0x00d9, 1, { {"T0CNT0", 1}, {"T0CNT1", 1},  {"T0CNT2", 1}, {"T0CNT3", 1}, {"T0CNT4", 1}, {"T0CNT5", 1},  {"T0CNT6", 1}, {"T0CNT7", 1} } },
	{ "T1CR",    0x00da, 1, 
		{
			{"PWM1OE", 1}, {"BUZ1OE", 1},  {"T1LDEN", 1}, {"T1CKS0", 1}, 
			{"T1PRS0", 1}, {"T1PRS1", 1},  {"T1PRS2", 1}, {"T1EN", 1}
		}
	},
	{ "T1CNT",   0x00db, 1, { {"T1CNT0", 1}, {"T1CNT1", 1},  {"T1CNT2", 1}, {"T1CNT3", 1}, {"T1CNT4", 1}, {"T1CNT5", 1},  {"T1CNT6", 1}, {"T1CNT7", 1} } },
	{ "BUZCR",    0x00dc, 1, 
		{
			{"", 0}, {"", 0},  {"", 0}, {"", 0}, 
			{"", 0}, {"BUZPRS0", 1},  {"BUZPRS1", 1}, {"BUZEN", 1}
		}
	},
	{ "MCR",    0x00df, 1, 
		{
			{"STKP0", 1}, {"STKP1", 1},  {"STKP2", 1}, {"", 0}, 
			{"", 0}, {"", 0},  {"", 0}, {"GIE", 1}
		}
	},
	{ "PUP0",    0x00e0, 1, 
		{
			{"P00PU", 1}, {"P01PU", 1},  {"P02PU", 1}, {"P03PU", 1}, 
			{"P04PU", 1}, {"P05PU", 1},  {"P06PU", 1}, {"P07PU", 1}
		}
	},
	{ "PUP4",    0x00e4, 1, 
		{
			{"P40PU", 1}, {"P41PU", 1},  {"P42PU", 1}, {"P43PU", 1}, 
			{"P44PU", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "PUP5",    0x00e5, 1, 
		{
			{"P50PU", 1}, {"P51PU", 1},  {"P52PU", 1}, {"P53PU", 1}, 
			{"P54PU", 1}, {"", 0},  {"", 0}, {"", 0}
		}
	},
	{ "INDF",   0x00e7, 1, { {"INDF0", 1}, {"INDF1", 1},  {"INDF2", 1}, {"INDF3", 1}, {"INDF4", 1}, {"INDF5", 1},  {"INDF6", 1}, {"INDF7", 1} } },
	{ "PWMCR0",    0x00e8, 1, 
		{
			{"PWMAOF", 1}, {"PWMBOF", 1},  {"PWMCOF", 1}, {"", 0}, 
			{"PWMPRS0", 1}, {"PWMPRS1", 1},  {"PWMPRS2", 1}, {"PWMEN", 1}
		}
	},
	{ "PWMCR1",    0x00e9, 1, 
		{
			{"", 0}, {"", 0},  {"", 0}, {"", 0}, 
			{"", 0}, {"PWMAOE", 1},  {"PWMBOE", 1}, {"PWMCOE", 1}
		}
	},
	{ "PWMCNT",   0x00ea, 1, { {"PWMCNT0", 1}, {"PWMCNT1", 1},  {"PWMCNT2", 1}, {"PWMCNT3", 1}, {"PWMCNT4", 1}, {"PWMCNT5", 1},  {"PWMCNT6", 1}, {"PWMCNT7", 1} } },
	{ "PWMADT",   0x00eb, 1, { {"PWMADT0", 1}, {"PWMADT1", 1},  {"PWMADT2", 1}, {"PWMADT3", 1}, {"PWMADT4", 1}, {"PWMADT5", 1},  {"PWMADT6", 1}, {"PWMADT7", 1} } },
	{ "PWMBDT",   0x00ec, 1, { {"PWMBDT0", 1}, {"PWMBDT1", 1},  {"PWMBDT2", 1}, {"PWMBDT3", 1}, {"PWMBDT4", 1}, {"PWMBDT5", 1},  {"PWMBDT6", 1}, {"PWMBDT7", 1} } },
	{ "PWMCDT",   0x00ed, 1, { {"PWMCDT0", 1}, {"PWMCDT1", 1},  {"PWMCDT2", 1}, {"PWMCDT3", 1}, {"PWMCDT4", 1}, {"PWMCDT5", 1},  {"PWMCDT6", 1}, {"PWMCDT7", 1} } },
	{ "PWMPD",   0x00ee, 1, { {"PWMPD0", 1}, {"PWMPD1", 1},  {"PWMPD2", 1}, {"PWMPD3", 1}, {"PWMPD4", 1}, {"PWMPD5", 1},  {"PWMPD6", 1}, {"PWMPD7", 1} } },
	{ "STKR0L",    0x00f0, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR0H",    0x00f1, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR1L",    0x00f2, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR1H",    0x00f3, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR2L",    0x00f4, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR2H",    0x00f5, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR3L",    0x00f6, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR3H",    0x00f7, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR4L",    0x00f8, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR4H",    0x00f9, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR5L",    0x00fa, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR5H",    0x00fb, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR6L",    0x00fc, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR6H",    0x00fd, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR7L",    0x00fe, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{ "STKR7H",    0x00ff, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
};

const int num_reg = sizeof(all_reg) / sizeof(all_reg[0]);

//const int maxram = 0x1ff;
const int maxram = 0xff;
/*const int badram[][2] = { {0x100, 0x17f}, {0x18c, 0x18f}, {0x193, 0x193}, {0x197, 0x197},
                          {0x19b, 0x19b},{0x19f, 0x19f},  {0x1b7, 0x1b7}, 
                           {0x1bc, 0x1bf}, {0x1cc, 0x1ff}, 
                          {-1, -1} };*/
const int badram[][2] = { {0x80, 0x81}, {0x85, 0x85}, {0x87, 0x87}, {0x88, 0x8d},
                          {0x90, 0x9f},{0xa1, 0xa4},  {0xa6, 0xa7}, 
                           {0xa8, 0xac}, {0xb0, 0xb0},{0xb6, 0xb7}, {0xb9, 0xbe},
			{0xc0, 0xc3}, {0xc6, 0xc7}, {0xcb, 0xcb}, {0xd1, 0xd3}, {0xd6, 0xd7},
			{0xdd, 0xde}, {0xe1, 0xe3}, {0xe6, 0xe6}, {0xef, 0xef},
                          {-1, -1} };

/*
const struct bit_def config0[] = {
	{"_8K_OTP",      				 SET_BITS(5, 3, 0)},
	{"_4K_MTP_1ST",       	 SET_BITS(3, 3, 0)},
	{"_4K_MTP_2ND",       	 SET_BITS(2, 3, 0)}
};
*/

const struct bit_def config1[] = {
};

const int num_config1 = sizeof(config1) / sizeof(config1[0]);
const int config1_addr = 0x8001;

const struct bit_def config0[] = {
};

const int num_config0 = sizeof(config0) / sizeof(config0[0]);
const int config0_addr = 0x8000;

/*
const struct bit_def config4[] = {
	{"_WDT_ALWAYS_OFF",      SET_BITS(0, 2, 0)},
	{"_WDT_SLEEP_OFF",       SET_BITS(1, 2, 0)},
	{"_WDT_ALWAYS_ON",       SET_BITS(3, 2, 0)},
	{"_PTWRT_4_4",           SET_BITS(0, 3, 2)},
	{"_PTWRT_16_16",         SET_BITS(1, 3, 2)},
	{"_PTWRT_64_64",         SET_BITS(2, 3, 2)},
	{"_PTWRT_256_256",       SET_BITS(3, 3, 2)},
	{"_PTWRT_4_512",         SET_BITS(4, 3, 2)},
	{"_PTWRT_16_1024",       SET_BITS(5, 3, 2)},
	{"_PTWRT_64_2048",       SET_BITS(6, 3, 2)},
	{"_PTWRT_256_4096",      SET_BITS(7, 3, 2)},
	{"_FCPU_4T",             SET_BITS(0, 3, 5)},
	{"_FCPU_8T",             SET_BITS(1, 3, 5)},
	{"_FCPU_16T",            SET_BITS(2, 3, 5)},
	{"_FCPU_32T",            SET_BITS(3, 3, 5)},
	{"_FCPU_64T",            SET_BITS(4, 3, 5)},
	{"_FCPU_128T",           SET_BITS(5, 3, 5)},
	{"_FCPU_256T",           SET_BITS(6, 3, 5)},
	{"_FCPU_512T",           SET_BITS(7, 3, 5)},
	{"_VLVR_120",            SET_BITS(0, 4, 11)},
	{"_VLVR_160",            SET_BITS(1, 4, 11)},
	{"_VLVR_180",            SET_BITS(2, 4, 11)},
	{"_VLVR_200",            SET_BITS(3, 4, 11)},
	{"_VLVR_220",            SET_BITS(4, 4, 11)},
	{"_VLVR_240",            SET_BITS(5, 4, 11)},
	{"_VLVR_250",            SET_BITS(6, 4, 11)},
	{"_VLVR_260",            SET_BITS(7, 4, 11)},
	{"_VLVR_270",            SET_BITS(8, 4, 11)},
	{"_VLVR_280",            SET_BITS(9, 4, 11)},
	{"_VLVR_300",            SET_BITS(10, 4, 11)},
	{"_VLVR_320",            SET_BITS(11, 4, 11)},
	{"_VLVR_360",            SET_BITS(12, 4, 11)},
	{"_VLVR_380",            SET_BITS(13, 4, 11)},
	{"_VLVR_400",            SET_BITS(14, 4, 11)},
	{"_VLVR_420",            SET_BITS(15, 4, 11)},
	{"_CP_ON",               SET_BITS(0, 1, 15)},
	{"_CP_OFF",              SET_BITS(1, 1, 15)}
};

const int num_config4 = sizeof(config4) / sizeof(config4[0]);
const int config4_addr = 0x8004;

const struct bit_def config5[] = {
	{"_LVR_SLEEP_ON",        SET_BITS(0, 1, 1)},
	{"_VLR_SLEEP_OFF",       SET_BITS(1, 1, 1)},
	{"_SPD_NORM",       		 SET_BITS(0, 1, 2)},
	{"_SPD_FAST",            SET_BITS(1, 1, 2)}
};

const int num_config5 = sizeof(config5) / sizeof(config5[0]);
const int config5_addr = 0x8005;
*/
