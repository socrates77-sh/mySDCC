#include "reg_def.h"

#define SET_BITS(x, n, of) (~((~(((-1) << (n)) | (x))) << (of))) & 0xFFFF

const struct reg_def all_reg[] = {
	{"INDF", 0x00e7, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"HIBYTE", 0x0082, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	//	{ "FSR",     0x0083, 0, { {"", 0}, {"", 0},  {"", 0}, {"", 0}, {"", 0}, {"", 0},  {"", 0}, {"", 0} } },
	{"FSR0", 0x0083, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"FSR1", 0x0084, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"PCH", 0x00cf, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"PCL", 0x00ce, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STATUS", 0x0086, 1, {{"Z", 1}, {"DC", 1}, {"C", 1}, {"", 0}, {"LVD24", 0}, {"LVD36", 0}, {"", 0}, {"", 0}}},
	{"PFLAG", 0x0086, 1, {{"Z", 0}, {"DC", 0}, {"C", 0}, {"", 0}, {"LVD24", 1}, {"LVD36", 1}, {"", 0}, {"", 0}}},

	{"ZEROTR", 0x008e, 1, {{"ZEROTR0", 1}, {"ZEROTR1", 1}, {"ZEROTR2", 1}, {"ZEROTR3", 1}, {"ZEROTR4", 1}, {"", 0}, {"ZOTEN0", 1}, {"ZOTEN1", 1}}},
	{"OSCCAL", 0x008f, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"WKCR0", 0x00a0, 1, {{"P00WK", 1}, {"P01WK", 1}, {"P02WK", 1}, {"P03WK", 1}, {"P04WK", 1}, {"P05WK", 1}, {"P06WK", 1}, {"P07WK", 1}}},
	{"WKCR5", 0x00a5, 1, {{"P50WK", 1}, {"P51WK", 1}, {"P52WK", 1}, {"P53WK", 1}, {"P54WK", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"ADIOS0", 0x00ad, 1, {{"AN5EN", 1}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"AN9EN", 1}}},
	{"ADIOS1", 0x00ae, 1, {{"", 0}, {"", 0}, {"AN8EN", 1}, {"AN7EN", 1}, {"AN6EN", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"ADIOS2", 0x00af, 1, {{"AN0EN", 1}, {"AN1EN", 1}, {"AN2EN", 1}, {"AN3EN", 1}, {"AN4EN", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"ADCR0", 0x00b1, 1, {{"ADCHS0", 1}, {"ADCHS1", 1}, {"ADCHS2", 1}, {"ADCHS3", 1}, {"GCHS", 1}, {"ADEOC", 1}, {"ADSTR", 1}, {"ADEN", 1}}},
	{"ADCR1", 0x00b2, 1, {{"ADSPS0", 1}, {"ADSPS1", 1}, {"ADSPS2", 1}, {"ADSPS3", 1}, {"ADCKS0", 1}, {"ADCKS1", 1}, {"ADCKS2", 1}, {"ADRSEL", 1}}},
	{"ADRH", 0x00b3, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"ADRL", 0x00b4, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"ADCR2", 0x00b5, 1, {{"VRS0", 1}, {"VRS1", 1}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"EVRS", 1}}},
	{"OEP0", 0x00b8, 1, {{"P00OE", 1}, {"P01OE", 1}, {"P02OE", 1}, {"P03OE", 1}, {"P04OE", 1}, {"P05OE", 1}, {"P06OE", 1}, {"P07OE", 1}}},
	{"EINTCR", 0x00bf, 1, {{"", 0}, {"", 0}, {"", 0}, {"MINT00", 1}, {"MINT01", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"OEP4", 0x00c4, 1, {{"P40OE", 1}, {"P41OE", 1}, {"P42OE", 1}, {"P43OE", 1}, {"P44OE", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"OEP5", 0x00c5, 1, {{"P50OE", 1}, {"P51OE", 1}, {"P52OE", 1}, {"P53OE", 1}, {"P54OE", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"INTF", 0x00c8, 1, {{"INT0IF", 1}, {"", 0}, {"", 0}, {"PWMIF", 1}, {"T0IF", 1}, {"T1IF", 1}, {"", 0}, {"ADIF", 1}}},
	{"INTE", 0x00c9, 1, {{"INT0IE", 1}, {"", 0}, {"", 0}, {"PWMIE", 1}, {"T0IE", 1}, {"T1IE", 1}, {"", 0}, {"ADIE", 1}}},
	{"OSCM", 0x00ca, 1, {{"", 0}, {"HFDE", 1}, {"CLKS", 1}, {"CPUM0", 1}, {"CPUM1", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"WDTCR", 0x00cc, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"T1LDR", 0x00cd, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"IOP0", 0x00d0, 1, {{"P00D", 1}, {"P01D", 1}, {"P02D", 1}, {"P03D", 1}, {"P04D", 1}, {"P05D", 1}, {"P06D", 1}, {"P07D", 1}}},
	{"IOP4", 0x00d4, 1, {{"P40D", 1}, {"P41D", 1}, {"P42D", 1}, {"P43D", 1}, {"P44D", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"IOP5", 0x00d5, 1, {{"P50D", 1}, {"P51D", 1}, {"P52D", 1}, {"P53D", 1}, {"P54D", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"T0CR", 0x00d8, 1, {{"", 0}, {"", 0}, {"T0CKS1", 1}, {"T0CKS2", 1}, {"T0PRS0", 1}, {"T0PRS1", 1}, {"T0PRS2", 1}, {"T0EN", 1}}},
	{"T0CNT", 0x00d9, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"T1CR", 0x00da, 1, {{"PWM1OE", 1}, {"BUZ1OE", 1}, {"T1CKS1", 1}, {"T1CKS2", 1}, {"T1PRS0", 1}, {"T1PRS1", 1}, {"T1PRS2", 1}, {"T1EN", 1}}},
	{"T1CNT", 0x00db, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"BUZCR", 0x00dc, 1, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"BUZPRS0", 1}, {"BUZPRS1", 1}, {"BUZEN", 1}}},
	{"MCR", 0x00df, 1, {{"STKP0", 1}, {"STKP1", 1}, {"STKP2", 1}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"GIE", 1}}},
	{"PUP0", 0x00e0, 1, {{"P00PU", 1}, {"P01PU", 1}, {"P02PU", 1}, {"P03PU", 1}, {"P04PU", 1}, {"P05PU", 1}, {"P06PU", 1}, {"P07PU", 1}}},
	{"PUP4", 0x00e4, 1, {{"P40PU", 1}, {"P41PU", 1}, {"P42PU", 1}, {"P43PU", 1}, {"P44PU", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"PUP5", 0x00e5, 1, {{"P50PU", 1}, {"P51PU", 1}, {"P52PU", 1}, {"P53PU", 1}, {"P54PU", 1}, {"", 0}, {"", 0}, {"", 0}}},
	{"PWMCR0", 0x00e8, 1, {{"PWMAOF", 1}, {"PWMBOF", 1}, {"PWMCOF", 1}, {"", 0}, {"PWMPRS0", 1}, {"PWMPRS1", 1}, {"PWMPRS2", 1}, {"PWMEN", 1}}},
	{"PWMCR1", 0x00e9, 1, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"PWMAOE", 1}, {"PWMBOE", 1}, {"PWMCOE", 1}}},
	{"PWMCNT", 0x00ea, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"PWMADT", 0x00eb, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"PWMBDT", 0x00ec, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"PWMCDT", 0x00ed, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"PWMPD", 0x00ee, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR0L", 0x00f0, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR0H", 0x00f1, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR1L", 0x00f2, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR1H", 0x00f3, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR2L", 0x00f4, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR2H", 0x00f5, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR3L", 0x00f6, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR3H", 0x00f7, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR4L", 0x00f8, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR4H", 0x00f9, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR5L", 0x00fa, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR5H", 0x00fb, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR6L", 0x00fc, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR6H", 0x00fd, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR7L", 0x00fe, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}},
	{"STKR7H", 0x00ff, 0, {{"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}, {"", 0}}}

};

const int num_reg = sizeof(all_reg) / sizeof(all_reg[0]);

const int maxram = 0x0ff;
const int badram[][2] = {{0x80, 0x81}, {0x85, 0x85}, {0x87, 0x9f}, {0xa1, 0xa4}, {0xa6, 0xac}, {0xb0, 0xb0}, {0xb6, 0xb7}, {0xb9, 0xbe}, {0xc0, 0xc3}, {0xc6, 0xc7}, {0xd1, 0xd3}, {0xd6, 0xd7}, {0xdd, 0xde}, {0xe1, 0xe3}, {0xe6, 0xe6}, {0xef, 0xef}, {-1, -1}};

const struct bit_def config1[] = {};
const int num_config1 = sizeof(config1) / sizeof(config1[0]);
const int config1_addr = 0x8001;

const struct bit_def config0[] = {};
const int num_config0 = sizeof(config0) / sizeof(config0[0]);
const int config0_addr = 0x8000;
